# NanoSurvey
ТЗ

Разбил решение на 3 проекта.
1. это логика и все самое самое (можно было бы и там разбить на классы и на подпроекты, но не вижу смысла плодить их для короткого ТЗ).
2. это миграции и контекст
3. модели
В моделях есть базовая сущность с обобщенным идентификатором на усмотрение наследнику.

Для запуска проекта нужно вставить свою строку подключения в appsettings.Development.json в "ContextConnection" ну или определить ее в другом месте (но в таком случае надо будет поправить в Startup), апнуть БД и заполнить таблицы Survey, Question, Answer начальными данными и запустить проект.
Иерархия и взаимодействия таблиц не сложная, старался максимально просто и незамысловато сделать.

Для 1 части задания ("Получение данных вопроса для отображения на фронте (текста вопроса и вариантов ответа)") предназначен метод GetQuestionData в единственном контроллере, для того чтобы к нему обратиться (я использовал Postman) достаточно сделать Get запрос по юрлу https://localhost:44382/api/question/n где n-это идентификатор вопроса, тело запроса пустое.

Для 2 части задания ("Сохранение результатов ответа на вопрос по кнопке “Далее”. Принимает выбранные радиобаттоны, возвращает айди следующего вопроса.") нужно сделать Post запрос по юрлу https://localhost:44382/api/saveresult с телом примерно таким: {
    "UserId":"1",
    "SurveysId":"2",
    "QuestionId":"1",
    "QuestionNumb":"1",
    "AnswerId":"1"
} (обязательно нужно убедиться что запрашиваемые данные есть в БД иначе ошибку выбросит (можно было бы написать и обработчик этих ошибок и еще кучу всего всего разного, но не вижу смысла делать это в ТЗ)), InterviewId поле в запросе должно быть пустое (в коде само произойдет определение или создание новой записи) и вернет как требовалось в задании идентификатор следующего вопроса из анкеты.
Собственно все. Старался сделать все максимально просто, лаконично и чтобы как можно быстрее работало, ну как смог.

Так же в классе Startup для экземпляров контекста задан цикл жизни, удаление этого приведен к ошибке и отказу работы с контекстом.
